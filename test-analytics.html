<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Analytics - ProfPilot</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="analytics.js"></script>
</head>
<body class="bg-slate-50 min-h-screen flex items-center justify-center p-4">
    <div class="max-w-md w-full bg-white rounded-2xl shadow-lg p-8">
        <h1 class="text-2xl font-bold text-slate-900 mb-6 text-center">üß™ Analytics Test Page</h1>
        
        <div class="space-y-4 mb-6">
            <div class="bg-blue-50 border border-blue-200 rounded-lg p-4">
                <h3 class="font-semibold text-blue-900 mb-2">Measurement ID:</h3>
                <p class="text-blue-800 font-mono text-sm">G-XSY9VSWFB5</p>
            </div>
            
            <div class="bg-green-50 border border-green-200 rounded-lg p-4">
                <h3 class="font-semibold text-green-900 mb-2">Status:</h3>
                <p id="status" class="text-green-800">Checking...</p>
            </div>
            
            <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4">
                <h3 class="font-semibold text-yellow-900 mb-2">Environment:</h3>
                <p id="environment" class="text-yellow-800">Checking...</p>
            </div>
        </div>
        
        <div class="space-y-3">
            <button id="testPageView" class="w-full bg-blue-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-blue-700 transition-colors">
                Test Page View
            </button>
            <button id="testEvent" class="w-full bg-green-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-green-700 transition-colors">
                Test Event
            </button>
            <button id="testCustom" class="w-full bg-purple-600 text-white py-3 px-6 rounded-xl font-semibold hover:bg-purple-700 transition-colors">
                Test Custom Event
            </button>
        </div>
        
        <div class="mt-6 p-4 bg-slate-50 rounded-lg">
            <h3 class="font-semibold text-slate-900 mb-2">Console Logs:</h3>
            <p class="text-sm text-slate-600">Open DevTools (F12) to see detailed logs</p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const hostname = window.location.hostname;
            const isDevelopment = hostname === 'localhost' || hostname === '127.0.0.1';
            
            // Update environment
            const envElement = document.getElementById('environment');
            if (isDevelopment) {
                envElement.textContent = `Development (${hostname}) - Analytics disabled`;
                envElement.className = 'text-yellow-800';
            } else {
                envElement.textContent = `Production (${hostname}) - Analytics enabled`;
                envElement.className = 'text-green-800';
            }
            
            // Update status
            const statusElement = document.getElementById('status');
            if (typeof gtag !== 'undefined') {
                statusElement.textContent = '‚úÖ Analytics loaded successfully';
                statusElement.className = 'text-green-800';
            } else if (isDevelopment) {
                statusElement.textContent = 'üîß Development mode - tracking disabled';
                statusElement.className = 'text-yellow-800';
            } else {
                statusElement.textContent = '‚ùå Analytics not loaded';
                statusElement.className = 'text-red-800';
            }
            
            // Test Page View
            document.getElementById('testPageView').addEventListener('click', function() {
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'page_view', {
                        page_title: 'Test Analytics Page',
                        page_location: window.location.href,
                        page_path: window.location.pathname
                    });
                    console.log('üìä Page view tracked');
                    alert('Page view tracked! Check console for details.');
                } else {
                    alert('Analytics not loaded. Check console for details.');
                }
            });
            
            // Test Event
            document.getElementById('testEvent').addEventListener('click', function() {
                if (typeof trackEvent !== 'undefined') {
                    trackEvent('test_event', {
                        event_category: 'testing',
                        event_label: 'manual_test',
                        value: 1
                    });
                    console.log('üìä Test event tracked');
                    alert('Event tracked! Check console for details.');
                } else {
                    alert('trackEvent function not available. Check console for details.');
                }
            });
            
            // Test Custom Event
            document.getElementById('testCustom').addEventListener('click', function() {
                if (typeof gtag !== 'undefined') {
                    gtag('event', 'button_click', {
                        button_name: 'Test Custom Event',
                        page_name: 'Test Analytics Page',
                        timestamp: new Date().toISOString()
                    });
                    console.log('üìä Custom event tracked');
                    alert('Custom event tracked! Check console for details.');
                } else {
                    alert('Analytics not loaded. Check console for details.');
                }
            });
        });
    </script>
</body>
</html>
